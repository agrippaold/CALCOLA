---
import { getCollection } from 'astro:content';
import ToolLayout from '../../../layouts/ToolLayout.astro';
import TipCalculator from '../../../components/calculators/finance/TipCalculator';

const lang = 'en';

const allTools = await getCollection('tools');
const toolEntry = allTools.find(
  (t) => t.data.id === 'tip-calculator' && t.id.startsWith('en/')
);

if (!toolEntry) {
  return Astro.redirect('/en/');
}

const tool = toolEntry.data;
---

<ToolLayout tool={tool} lang={lang}>
  <TipCalculator client:visible defaults={tool.defaults} lang={lang} />
</ToolLayout>
